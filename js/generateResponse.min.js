let isEmail;const generateResponse=async e=>{if(""===e)return;blockElements(!0),e=e.toLowerCase().replace(/'/g,""),userInput.value="",chatbox.innerHTML+="<p class='user'><strong>> You:</strong> "+e+"</p>",chatbox.scrollTop=chatbox.scrollHeight;if(await checkIfEmail(e))return void captureEmail(e);switch(e){case"first gesture":return void await gestureOne();case"second gesture":return void await gestureTwo();case"third gesture":return void await gestureThree();case"fourth gesture":return void await gestureFour();case"rantbyte":return void await rantBytes();case"pimple":return void await popPimple();case"notes one":return void await notesOne();case"notes two":return void await notesTwo();case"notes three":return void await notesThree()}if(gameOn){switch(await getTypeOfResponse(e)){case"positive":puzzleButton.classList.add("hide"),chatbox.innerHTML="",await typeText(chatbox,rantCPUobj.simonSaysBeckon[0]),bt_power.classList.add("hide"),bt_submit_Target.classList.add("hide"),bt_service.classList.add("hide"),userInput.classList.add("hide"),nextRound();break;case"negative":case"another":await endGame()}return}if(isSubmitTarget)return void submitTargetTrue(e);if(confirmSubmit)return void lookForTarget(e);if(isNFTRoute)return void rantCPUResponse(e,"nfts");if((await compareStrings(e,rantCPUobj.isNFT)).score>=.8)return isNFTRoute=!0,emailSequence=!1,void nftSequence();let t={key:null,response:null,score:-1};const a=rantCPUobj.chat.responses;for(let r in a){const a=r.toLowerCase().replace(/'/g,""),o=stringSimilarity.compareTwoStrings(e,a);o>t.score&&(t.key=r,t.score=o)}if(t.score>=.75){const e=a[t.key][Math.floor(Math.random()*a[t.key].length)];await typeText(chatbox,e)}else{const e=Object.keys(a),t=rantCPUobj.dontKnow;let r=e[Math.floor(Math.random()*e.length)];dontKnowReply=t[Math.floor(Math.random()*t.length)];const o=dontKnowReply+'"'+r+'"';await typeText(chatbox,o)}blockElements(!1)};